<!-- Events Section Component -->
<div class="bg-white shadow-lg h-full flex flex-col relative" style="border: 2px solid #7c3aed;">
    <div class="bg-gray-50 px-3 py-2 sm:px-6 sm:py-4 flex-shrink-0" style="border-bottom: 2px solid #7c3aed;">
        <div class="flex items-center justify-between">
            <h3 class="text-lg sm:text-xl font-normal text-gray-900 tracking-wide">Events</h3>
            <div class="flex items-center gap-2">
                <!-- Add Event Button (icon only) -->
                <button onclick="{% if selected_child %}openAddEventModal({{ selected_child.id }}){% else %}openAddEventModal(){% endif %}" 
                        class="bg-violet-600 hover:bg-violet-700 text-white px-3 py-2 border-2 border-violet-700 text-xs sm:text-sm transition-all duration-200 flex items-center justify-center">
                    <i class="fas fa-plus text-xs"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Events List -->
    <div class="flex-1 overflow-y-auto p-3 sm:p-6 space-y-3 bg-gradient-to-br from-violet-50 to-purple-50">
        {% if entries %}
            {% for entry in entries %}
                {% if entry.entry_type == 'event' %}
                    <div class="bg-white p-3 sm:p-4 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer border-l-4 border-violet-500"
                         onclick="openEventModal({{ entry.id }})">
                        <div class="flex items-start justify-between mb-2">
                            <h4 class="font-medium text-gray-900 text-sm sm:text-base line-clamp-2">{{ entry.title }}</h4>
                            <div class="flex items-center gap-2 ml-2 flex-shrink-0">
                                <!-- Status Badge -->
                                <span class="bg-violet-100 text-violet-700 px-2 py-1 text-xs font-medium border border-violet-200">
                                    <i class="fas fa-calendar mr-1"></i>Event
                                </span>
                            </div>
                        </div>
                        
                        <!-- Event Details -->
                        <div class="text-xs sm:text-sm text-gray-600 mb-2">
                            {% if entry.description %}
                                <p class="line-clamp-2 mb-1">{{ entry.description|truncatewords:15 }}</p>
                            {% endif %}
                        </div>
                        
                        <!-- Date and Meta Info -->
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <div class="flex items-center gap-2">
                                {% if entry.event_date %}
                                    <span class="flex items-center gap-1">
                                        <i class="fas fa-calendar text-violet-600"></i>
                                        {{ entry.event_date|date:"M j, Y" }}
                                    </span>
                                {% endif %}
                                {% if entry.event_start_time %}
                                    <span class="flex items-center gap-1">
                                        <i class="fas fa-clock text-violet-600"></i>
                                        {{ entry.event_start_time|time:"g:i A" }}
                                    </span>
                                {% endif %}
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="flex items-center gap-1">
                                    <i class="fas fa-user text-violet-600"></i>
                                    {{ entry.child.name }}
                                </span>
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        {% endif %}
        
        <!-- Show empty state if no events -->
        {% if not entries %}
            <div class="text-center py-8 text-gray-500">
                <i class="fas fa-calendar text-4xl text-violet-300 mb-4"></i>
                <p class="text-lg font-medium mb-2">No events yet</p>
                <p class="text-sm">Add your first event to get started!</p>
            </div>
        {% endif %}
    </div>
</div>
